import{G as h,$ as n,c as r,T as s,d as a,f as c,l as f,D as k,m}from"./DarkTheme-59411532.js";import{c as v,C as d,P as p,N as g,i as w}from"./main-7461ba9d.js";const i={};i.initialize=function(e){h.active_tab!=="options"&&(h.active_tab="options"),n("#content").load("./tabs/options.html",function(){r.localizePage(),s.options.initRememberLastTab(),s.options.initCheckForConfiguratorUnstableVersions(),s.options.initAnalyticsOptOut(),s.options.initCliAutoComplete(),s.options.initShowAllSerialDevices(),s.options.initShowVirtualMode(),s.options.initUseManualConnection(),s.options.initCordovaForceComputerUI(),s.options.initDarkTheme(),s.options.initShowDevToolsOnStartup(),s.options.initShowNotifications(),s.options.initUserLanguage(),s.options.initShowWarnings(),s.options.initMeteredConnection(),h.content_ready(e)})};i.cleanup=function(e){e&&e()};i.initShowWarnings=function(){a("showPresetsWarningBackup").showPresetsWarningBackup&&n("div.presetsWarningBackup input").prop("checked",!0),n("div.presetsWarningBackup input").change(function(){const t=n(this).is(":checked");c({showPresetsWarningBackup:t})}).change()};i.initRememberLastTab=function(){const e=a("rememberLastTab");n("div.rememberLastTab input").prop("checked",!!e.rememberLastTab).change(function(){c({rememberLastTab:n(this).is(":checked")})}).change()};i.initCheckForConfiguratorUnstableVersions=function(){a("checkForConfiguratorUnstableVersions").checkForConfiguratorUnstableVersions&&n("div.checkForConfiguratorUnstableVersions input").prop("checked",!0),n("div.checkForConfiguratorUnstableVersions input").change(function(){const t=n(this).is(":checked");c({checkForConfiguratorUnstableVersions:t}),v()})};i.initAnalyticsOptOut=function(){a("analyticsOptOut").analyticsOptOut&&n("div.analyticsOptOut input").prop("checked",!0),n("div.analyticsOptOut input").change(function(){const t=n(this).is(":checked");c({analyticsOptOut:t}),f(function(o){t&&o.sendEvent(o.EVENT_CATEGORIES.APPLICATION,"OptOut"),o.setOptOut(t),t||o.sendEvent(o.EVENT_CATEGORIES.APPLICATION,"OptIn")})}).change()};i.initCliAutoComplete=function(){n("div.cliAutoComplete input").prop("checked",d.configEnabled).change(function(){const e=n(this).is(":checked");c({cliAutoComplete:e}),d.setEnabled(e)}).change()};i.initAutoConnectConnectionTimeout=function(){const e=a("connectionTimeout");e.connectionTimeout&&n("#connectionTimeoutSelect").val(e.connectionTimeout),n("#connectionTimeoutSelect").on("change",function(){const t=parseInt(n(this).val());c({connectionTimeout:t})})};i.initShowAllSerialDevices=function(){const e=n("div.showAllSerialDevices input"),t=a("showAllSerialDevices");e.prop("checked",!!t.showAllSerialDevices).on("change",()=>{const o=e.is(":checked");c({showAllSerialDevices:o}),p.setShowAllSerialDevices(o)})};i.initShowVirtualMode=function(){const e=n("div.showVirtualMode input"),t=a("showVirtualMode");e.prop("checked",!!t.showVirtualMode).on("change",()=>{const o=e.is(":checked");c({showVirtualMode:o}),p.setShowVirtualMode(o)})};i.initUseManualConnection=function(){const e=n("div.showManualMode input"),t=a("showManualMode");e.prop("checked",!!t.showManualMode).on("change",()=>{const o=e.is(":checked");c({showManualMode:o}),p.setShowManualMode(o)})};i.initCordovaForceComputerUI=function(){n("div.cordovaForceComputerUI").hide()};i.initDarkTheme=function(){n("#darkThemeSelect").val(k.configSetting).change(function(){const e=parseInt(n(this).val());c({darkTheme:e}),m(e)}).change()};i.initShowDevToolsOnStartup=function(){const e=a("showDevToolsOnStartup");n("div.showDevToolsOnStartup input").prop("checked",!!e.showDevToolsOnStartup).change(function(){c({showDevToolsOnStartup:n(this).is(":checked")})}).change()};i.initShowNotifications=function(){const e=a("showNotifications");n("div.showNotifications input").prop("checked",!!e.showNotifications).on("change",function(){const t=n(this),o=t.is(":checked");if(o){const u={title:r.getMessage("notificationsDeniedTitle"),text:r.getMessage("notificationsDenied"),buttonConfirmText:r.getMessage("OK")};switch(g.checkPermission()){case"granted":c({showNotifications:o});break;case"denied":h.showInformationDialog(u),t.prop("checked",!1);break;case"default":t.prop("checked",!1),g.requestPermission().then(l=>{l==="granted"?(c({showNotifications:o}),t.prop("checked",!0).trigger("change")):h.showInformationDialog(u)})}}c({showNotifications:t.is(":checked")})}).change()};i.initMeteredConnection=function(){const e=a("meteredConnection");n("div.meteredConnection input").prop("checked",!!e.meteredConnection).on("change",function(){c({meteredConnection:n(this).is(":checked")}),w()}).trigger("change")};i.initUserLanguage=function(){const e=r.selectedLanguage,t=n("#userLanguage"),o=r.getLanguagesAvailables();t.append(`<option value="DEFAULT">${r.getMessage("language_default")}</option>`),t.append("<option disabled>------</option>"),o.forEach(u=>{const l=r.getMessage(`language_${u}`);t.append(`<option value="${u}">${l}</option>`)}),t.val(e).on("change",u=>{r.changeLanguage(u.target.value),r.localizePage()}).trigger("change")};s.options=i;export{i as options};
