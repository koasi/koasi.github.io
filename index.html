<!DOCTYPE html>
<html>
<head>
  <title>Web API 示例</title>
  <style>
    video {
      width: 320px;
      height: 240px;
      border: 1px solid black;
    }
  </style>
</head>
<body>
  <h1>Web API 示例</h1>

  <h2>相机访问</h2>
  <video></video>
  <button onclick="startCamera(true)">开启前置相机</button>
  <button onclick="startCamera(false)">开启后置相机</button>
  <button onclick="stopCamera()">关闭相机</button>

  <h2>地理位置</h2>
  <p id="location"></p>
  <button onclick="getLocation()">获取位置</button>

  <h2>设备震动</h2>
  <button onclick="vibrate()">震动提醒</button>

  <h2>全屏模式</h2>
  <button onclick="toggleFullScreen()">切换全屏</button>

  <h2>电池状态</h2>
  <p id="battery"></p>

  <h2>剪贴板操作</h2>
  <input type="text" id="clipboard-input" placeholder="输入要复制的内容">
  <button onclick="copyToClipboard()">复制到剪贴板</button>
  <button onclick="pasteFromClipboard()">从剪贴板粘贴</button>

  <h2>网络状态</h2>
  <p id="network-status"></p>

  <h2>Web Notifications</h2>
  <button onclick="sendNotification()">发送通知</button>

  <script>
    // ... 之前的代码

    function sendNotification() {
      if (Notification.permission === 'granted') {
        const notification = new Notification('Web API 示例', {
          body: '这是一条来自网页的通知',
          icon: 'https://via.placeholder.com/64'
        });
        notification.onclick = () => {
          window.focus();
        }
      } else if (Notification.permission !== 'denied') {
        Notification.requestPermission().then(permission => {
          if (permission === 'granted') {
            sendNotification();
          }
        });
      }
    }
  </script>
</body>
</html>